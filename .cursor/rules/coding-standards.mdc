---
description: Code style, TypeScript, and performance standards.
globs: src/**/*.{ts,tsx}
alwaysApply: true
---
# Coding Standards

## TypeScript & Types

- **Strict Typing**: No `any`. Use `unknown` if necessary, but prefer explicit interfaces.
- **Interfaces**: Define in `src/types/`. Name them `PascalCase` (e.g., `interface Equipment`).
- **Props**: Explicitly type component props (e.g., `React.FC<EquipmentProps>`).

## Naming Conventions

- **Variables/Functions**: `camelCase` (`fetchEquipment`).
- **Constants**: `UPPER_SNAKE_CASE` (`DEFAULT_STALE_TIME`).
- **Query Keys**: Array format with dependencies (`['equipment', orgId, { status }]`).

## Error Handling

- **Services**: Use `try/catch`. Throw descriptive errors.
- **UI**: Use `useAppToast` for user feedback.

  ```typescript
  const { toast } = useAppToast();
  // ... onError: () => toast({ title: "Error", variant: "destructive" })
  ```

## Performance

- **Memoization**: Use useMemo for expensive calculations and useCallback for stable function references passed to children.
- **Imports**: Avoid circular dependencies. Use absolute imports @/ configured in tsconfig.json.
- **Query Optimization**: In Supabase queries, always use .select('id, name, ...') to fetch only needed fields.

## Linting

- Ensure code passes eslint.config.js.
- No unused variables.
- React Hooks dependencies must be exhaustive.
