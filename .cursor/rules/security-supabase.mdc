---
description: "Security & Database Best Practices"
globs: "**/*.{ts,tsx,sql}"
---
# Security (Supabase)

## Client-Side
- **No Service Key:** NEVER use the `service_role` key in the frontend code.
- **RLS:** Assume Row Level Security is active. Ensure queries include necessary filters (e.g., `organization_id`) to comply with policies.

## Data Validation
- **Input Validation:** Use Zod schemas to validate all form inputs before submission.
- **Types:** Generate and use Supabase Database Types (`Database` interface) for strong typing of query results.
